var f=(a,s,r)=>new Promise((u,l)=>{var _=e=>{try{d(r.next(e))}catch(t){l(t)}},g=e=>{try{d(r.throw(e))}catch(t){l(t)}},d=e=>e.done?u(e.value):Promise.resolve(e.value).then(_,g);d((r=r.apply(a,s)).next())});import{aw as y,r as c}from"./vue-vendor-D9-fr2Es.js";import{p as I,A as C,E as i,d as S}from"./index-D15Qezav.js";const h=y("post",()=>{const a=c([]),s=c(null),r=c(!1),u=c(null),l=c({currentPage:1,totalPages:1,perPage:10,total:0}),_=e=>{var t,o,n,m,v,E,A;return{id:e.id,title:e.title,content:e.content,userId:e.userId,categoryId:e.categoryId,viewCount:(t=e.viewCount)!=null?t:0,likeCount:(o=e.likeCount)!=null?o:0,commentCount:(n=e.commentCount)!=null?n:0,isPinned:(m=e.isPinned)!=null?m:!1,isFeatured:(v=e.isFeatured)!=null?v:!1,isSolved:(E=e.isSolved)!=null?E:!1,isRecommended:(A=e.isRecommended)!=null?A:!1,solutionCommentId:e.solutionCommentId,deleted:e.deleted,createdAt:e.createdAt,updatedAt:e.updatedAt,user:e.user,category:e.category,tags:e.tags||[],created_at:e.created_at||e.createdAt,updated_at:e.updated_at||e.updatedAt,user_id:e.user_id||e.userId,category_id:e.category_id||e.categoryId,view_count:e.view_count||e.viewCount,like_count:e.like_count||e.likeCount,comment_count:e.comment_count||e.commentCount,is_pinned:e.is_pinned||e.isPinned,is_featured:e.is_featured||e.isFeatured,is_solved:e.is_solved||e.isSolved,solution_comment_id:e.solution_comment_id||e.solutionCommentId,is_liked:e.is_liked,is_bookmarked:e.is_bookmarked}};function g(){return f(this,arguments,function*(e={}){var t,o;r.value=!0,u.value=null;try{const n=yield I.getPosts(e.page||0,e.size||C.DEFAULT_PAGE_SIZE);return n&&n.content&&(a.value=n.content.map(_),l.value={currentPage:((t=n.pageable)==null?void 0:t.pageNumber)||0,totalPages:n.totalPages||1,perPage:((o=n.pageable)==null?void 0:o.pageSize)||C.DEFAULT_PAGE_SIZE,total:n.totalElements||0}),n}catch(n){const m=i.handleApiError(n);return u.value=S.FETCH_POSTS_FAILED,i.showError(m),null}finally{r.value=!1}})}function d(e){return f(this,null,function*(){r.value=!0,u.value=null;try{const t=yield I.getPostById(e),o=_(t);return s.value=o,o}catch(t){const o=i.handleApiError(t);return u.value=S.FETCH_POSTS_FAILED,i.showError(o),null}finally{r.value=!1}})}return{posts:a,currentPost:s,loading:r,error:u,pagination:l,fetchPosts:g,fetchPost:d}});export{h as u};
