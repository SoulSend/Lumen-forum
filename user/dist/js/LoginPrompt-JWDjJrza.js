import{u as y,c as b,a as M,b as L,i as $}from"./index-D15Qezav.js";import{x as g,c as r,r as v,y as u,z as n,B as _,A as t,H as A,K as B,O as c,ag as h,I as k,M as w,Q as C,aB as R}from"./vue-vendor-D9-fr2Es.js";import{a as S}from"./MainLayout-ce7fSWOU.js";const x={key:0},N={key:1},P={class:"auth-required-fallback"},U={class:"auth-required-message"},q=g({__name:"AuthRequired",props:{level:{type:String,default:"user"},type:{type:String,default:"level"},resourceUserId:{type:Number,default:void 0},customMessage:{type:String,default:""}},setup(l){const e=l,i=y(),a=r(()=>i.isAuthenticated),d=r(()=>e.type==="level"?b(e.level):e.type==="edit"?M(e.resourceUserId):e.type==="delete"?L(e.resourceUserId):e.type==="owner"?$(e.resourceUserId):!1),p=r(()=>e.customMessage?e.customMessage:a.value?e.type==="owner"?"只有内容创建者才能执行此操作":e.type==="edit"||e.type==="delete"?"您没有权限执行此操作":"您的权限不足，无法访问此内容":"您需要登录才能访问此内容"),m=v(!1),f=()=>{m.value=!0};return(o,s)=>{const I=h("el-button");return n(),u("div",null,[d.value?(n(),u("div",x,[_(o.$slots,"default",{},void 0,!0)])):(n(),u("div",N,[_(o.$slots,"fallback",{},()=>[t("div",P,[t("div",U,[s[1]||(s[1]=t("span",{class:"material-icons-round"},"lock",-1)),t("p",null,c(p.value),1),a.value?B("",!0):(n(),A(I,{key:0,type:"primary",size:"small",onClick:f},{default:k(()=>s[0]||(s[0]=[w(" 登录 ")])),_:1,__:[0]}))])])],!0)]))])}}}),Q=S(q,[["__scopeId","data-v-761bad76"]]),T={class:"login-prompt"},V={class:"login-prompt-content"},z={class:"material-icons-round"},D={class:"login-prompt-actions"},E=g({__name:"LoginPrompt",props:{type:{type:String,default:"default"},customTitle:{type:String,default:""},customMessage:{type:String,default:""},customIcon:{type:String,default:""},redirectPath:{type:String,default:""}},setup(l){const e=l;y(),R();const i=r(()=>{if(e.customIcon)return e.customIcon;switch(e.type){case"create":return"post_add";case"like":return"favorite";case"comment":return"comment";case"follow":return"person_add";default:return"lock"}}),a=r(()=>{if(e.customTitle)return e.customTitle;switch(e.type){case"create":return"创建内容需要登录";case"like":return"点赞收藏需要登录";case"comment":return"发表评论需要登录";case"follow":return"关注用户需要登录";default:return"需要登录"}}),d=r(()=>{if(e.customMessage)return e.customMessage;switch(e.type){case"create":return"登录后即可发布帖子、分享内容";case"like":return"登录后即可点赞、收藏喜欢的内容";case"comment":return"登录后即可参与讨论，发表您的观点";case"follow":return"登录后即可关注感兴趣的用户";default:return"请登录后继续操作"}}),p=v(!1),m=()=>{p.value=!0};return(f,o)=>{const s=h("el-button");return n(),u("div",T,[t("div",V,[t("span",z,c(i.value),1),t("h3",null,c(a.value),1),t("p",null,c(d.value),1),t("div",D,[C(s,{type:"primary",onClick:m},{default:k(()=>o[0]||(o[0]=[w(" 登录 ")])),_:1,__:[0]})])])])}}}),j=S(E,[["__scopeId","data-v-cd688c40"]]);export{Q as A,j as L};
